!!!
%html{ lang: 'en', 'data-bs-theme': 'dark' }
  %head
    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/
    %meta{:content => "width=device-width,initial-scale=1", :name => "viewport"}/
    %meta{:content => "yes", :name => "apple-mobile-web-app-capable"}/

    %meta{:content => "#{stripe_publishable_api_key}", :name => "stripe-key"}/

    %title
      = PRODUCT_NAME
      - if content_for?(:title)
        &mdash;
        = yield(:title)

    = csrf_meta_tags
    = csp_meta_tag
    = yield :heads

    %link{:href => "/manifest.json", :rel => "manifest"}/
    %link{:href => "/icon.png", :rel => "icon", :type => "image/png"}/
    %link{:href => "/icon.svg", :rel => "icon", :type => "image/svg+xml"}/
    %link{:href => "/icon.png", :rel => "apple-touch-icon"}/

    // Bootstrap CSS
    %link{:crossorigin => "anonymous", :href => "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css", :integrity => "sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH", :rel => "stylesheet"}/

    // Optional theme
    %link{:crossorigin => "anonymous", :href => "https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css", :integrity => "sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp", :rel => "stylesheet"}/

    // Bootstrap Icons
    %link{:crossorigin => "anonymous", :href => "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css", :rel => "stylesheet"}/

    // Flatpickr CSS
    %link{:crossorigin => "anonymous", :href => "https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css", :rel => "stylesheet"}/

    // Flatpickr JS
    %script{:crossorigin => "anonymous", :src => "https://cdn.jsdelivr.net/npm/flatpickr"}

    // Popover JS
    %script{:crossorigin => "anonymous", :integrity => "sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r", :src => "https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"}

    // Bootstrap Minified JS
    %script{:crossorigin => "anonymous", :integrity => "sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy", :src => "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"}

    // Stripe
    %script{:src => "https://js.stripe.com/v3/"}

    %meta{ name: "turbo-visit-control", content: "reload" }

    = stylesheet_link_tag "application", "data-turbo-track": "reload"
    = javascript_include_tag "application", "data-turbo-track": "reload", type: "module"

  %body
    %nav.navbar.navbar-expand-lg.border-bottom.border-body
      .container-fluid
        %a.navbar-brand{ href: root_path }
          = PRODUCT_NAME
        %button.navbar-toggler{"aria-controls" => "navbarSupportedContent", "aria-expanded" => "false", "aria-label" => "Toggle navigation", "data-bs-target" => "#navbarSupportedContent", "data-bs-toggle" => "collapse", :type => "button"}
          %span.navbar-toggler-icon

        #navbarSupportedContent.collapse.navbar-collapse
          %ul.navbar-nav.me-auto.mb-2.mb-lg-0
            - if user_signed_in?
              %li.nav-item
                %a.nav-link{ href: edit_user_registration_path }
                  Your Profile
              %li.nav-item
                = link_to destroy_user_session_path, data: { "turbo-method": :delete }, class: 'nav-link' do
                  Logout

            - else
              %li.nav-item
                %a.nav-link{ href: new_user_session_path }
                  Login


    .container
      .row
        .col-3.col-md-3
        .col-6.col-md-6
          .turbo-frame#flash
            = render 'shared/flash'
        .col-3.col-md-3

      .row
        .col-1.col-md-1
        .col-10.col-md-10
          = yield
        .col-1.col-md-1

    #footer
      .container
        %p.muted.text-center#footer-text
          %small
            Crafted with â™¡

